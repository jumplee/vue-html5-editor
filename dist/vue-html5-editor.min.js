var VueHtml5Editor=function(){"use strict";function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function e(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}function A(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n={name:"align",icon:"fa fa-align-center",i18n:"align",dashboard:{template:'<div> <button type="button" @click="$parent.execCommand(\'justifyLeft\')"> {{$parent.locale["left justify"]}} </button> <button type="button" @click="$parent.execCommand(\'justifyCenter\')"> {{$parent.locale["center justify"]}} </button> <button type="button" @click="$parent.execCommand(\'justifyRight\')"> {{$parent.locale["right justify"]}} </button> </div>'}},t={name:"color",icon:"fa fa-paint-brush",i18n:"color",dashboard:{template:'<div> <div class="colors-tabs"> <label> <input type="radio" value="foreColor" v-model="command">&nbsp; {{$parent.locale["fore color"]}} </label> <label> <input type="radio" value="backColor" v-model="command">&nbsp; {{$parent.locale["background color"]}} </label> </div> <div class="colors-tab-panels"> <div class="colors-tab-fore-color" v-if="command==\'foreColor\'"> <div v-for="color in foreColors" :style="{\'background-color\':color}" class="color-card" @click="changeColor(color)"> </div> <div style="clear: both"></div> </div> <div class="colors-tab-background-color" v-if="command==\'backColor\'"> <div v-for="color in backColors" :style="{\'background-color\':color}" class="color-card" @click="changeColor(color)"> </div> <div style="clear: both"></div> </div> </div> </div> ',data:function(){return{command:"foreColor",foreColors:["#000000","#000033","#000066","#000099","#003300","#003333","#003366","#003399","#006600","#006633","#009900","#330000","#330033","#330066","#333300","#333366","#660000","#660033","#663300","#666600","#666633","#666666","#666699","#990000","#990033","#9900CC","#996600","#FFCC00","#FFCCCC","#FFCC99","#FFFF00","#FF9900","#CCFFCC","#CCFFFF","#CCFF99"],backColors:["#fafafa","#FFCCCC","#FFFF00","#CCFF99","#003300","#003333","#003366","#003399","#006600","#006633","#009900","#330000","#330033","#330066","#333300","#333366","#660000","#660033","#663300","#666600","#666633","#666666","#666699","#990000","#990033","#9900CC","#996600","#FFCC00","#FFCCCC","#FFCC99","#FFFF00","#FF9900","#CCFFCC","#CCFFFF","#CCFF99"]}},methods:{changeColor:function(e){this.$parent.execCommand(this.command,e)}}}},E={JUSTIFY_LEFT:"justifyLeft",JUSTIFY_CENTER:"justifyCenter",JUSTIFY_RIGHT:"justifyRight",FORE_COLOR:"foreColor",BACK_COLOR:"backColor",REMOVE_FORMAT:"removeFormat",FONT_NAME:"fontName",FONT_SIZE:"fontSize",FORMAT_BLOCK:"formatBlock",LINE_HEIGHT:"lineHeight",INSERT_HORIZONTAL_RULE:"insertHorizontalRule",INSERT_IMAGE:"insertImage",CREATE_LINK:"createLink",INSERT_ORDERED_LIST:"insertOrderedList",INSERT_UNORDERED_LIST:"insertUnorderedList",INSERT_HTML:"insertHTML",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",STRIKE_THROUGH:"strikeThrough",SUBSCRIPT:"subscript",SUPERSCRIPT:"superscript",UNDO:"undo",UNLINK:"unlink",INDENT:"indent"},a={name:"font",icon:"fa fa-font",i18n:"font",dashboard:{template:'<div class="dashboard-font" style="line-height: 36px;"> <div> <label>{{$parent.locale["heading"]}}:</label> <button v-for="h in 6" type="button" @click="setHeading(h)">H{{h}}</button> </div> \x3c!-- <div>\n        <label>\n            {{$parent.locale["font name"]}}:\n        </label>\n        <button v-for="name in nameList" type="button" @click="setFontName(name)">{{name}}</button>\n    </div> --\x3e <div> <label> {{$parent.locale["font size"]}}: </label> <button v-for="size in fontSizeList" type="button" @click="setFontSize(size)">{{size}}</button> </div> <div> <label> {{$parent.locale["line height"]}}: </label> <button v-for="lh in lineHeightList" type="button" @click="setLineHeight(lh)"> {{lh}} </button> </div> </div>',data:function(){return{nameList:["Microsoft YaHei","Helvetica Neue","Helvetica","Arial","sans-serif","Verdana","Georgia","Times New Roman","Trebuchet MS","Microsoft JhengHei","Courier New","Impact","Comic Sans MS","Consolas"],lineHeightList:["1.0","1.2","1.5","1.8","2.0","2.5","3.0"],fontSizeList:["12px","14px","16px","18px","20px","22px","24px"]}},methods:{setFontName:function(e){this.$parent.execCommand("fontName",e)},setFontSize:function(e){this.$parent.execCommand("fontSize",e)},setHeading:function(e){this.$parent.execCommand("formatBlock","h".concat(e))},setLineHeight:function(e){this.$parent.execCommand(E.LINE_HEIGHT,e)}},created:function(){var e=this.$options.module.config;e&&Array.isArray(e.fontNames)&&(this.nameList=e.fontNames)}}};var r,i,s=(function(e){function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var t,o;e.exports=(o={},a.m=t={"./node_modules/babel-loader/lib/index.js!./src/imageUploader/main.js":function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var o=i(t("./src/uploader.js")),a=i(t("./src/baseViewCtrl.js")),r=i(t("./src/props.js"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=Object.assign({},a.default,{props:r.default,created:function(){var n=this,e=new o.default(Object.assign({},{uploadUrl:n.url,accept:n.accept,showProgress:n.showProgress,thumb:!0,onAcceptError:function(e){alert(e.ext+"类型文件不符合要求")}},n.uploadConfig));(n._uploader=e).on("finish",function(e){n.files=n.files.concat(),n.uploadFinish=!0}),e.on("progress",function(e){n.files.splice(e.index,1,e)})}})},"./node_modules/babel-loader/lib/index.js!./src/videoUploader/main.js":function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var o=i(t("./src/uploader.js")),a=i(t("./src/baseViewCtrl.js")),r=i(t("./src/props.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign({},r.default,{accept:{type:Array,default:function(){return["flv","mkv","avi","rm","rmvb","mpeg","mpg","ogg","ogv","mov","wmv","mp4","webm","mp3","wav"]}},fileAccept:{default:"*"},uploadConfig:{default:function(){return{timeout:1800}},type:Object}});n.default=Object.assign({},a.default,{props:s,data:function(){return{files:[],uploadSuccessNum:0,boxWidth:0,uploadFinish:!0,maskText:"",showPanelMask:!1}},created:function(){var n=this,e=new o.default(Object.assign({},{uploadUrl:n.url,accept:n.accept,showProgress:n.showProgress,onAcceptError:function(e){alert(e.ext+"类型文件不符合要求")}},n.uploadConfig));(n._uploader=e).on("finish",function(e){n.files=n.files.concat(),n.uploadFinish=!0}),e.on("progress",function(e){n.files.splice(e.index,1,e)})}})},'./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-05e646cd","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss':function(e,n,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!0)).push([e.i,'\n.btn[data-v-05e646cd] {\n  color: #fff;\n  background-color: #20a0ff;\n  border-color: #20a0ff;\n  border: none;\n  outline: none;\n  margin: 0;\n  padding: 10px 15px;\n  font-size: 14px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: inline-block;\n}\n.btn-disable[data-v-05e646cd] {\n  background-color: #eee;\n  border-color: #eee;\n  color: black;\n}\n.mask[data-v-05e646cd] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  overflow: auto;\n}\n.place-holder[data-v-05e646cd] {\n  text-align: center;\n  margin-top: 200px;\n}\n.panel[data-v-05e646cd] {\n  width: 750px;\n  background: white;\n  color: #333;\n  margin: 100px auto 0 auto;\n  position: relative;\n}\n.panel .close[data-v-05e646cd] {\n    position: absolute;\n    padding: 1px 15px;\n    right: 0;\n    top: 0;\n    font-size: 28px;\n    color: gray;\n    cursor: pointer;\n}\n.image-list[data-v-05e646cd] {\n  height: 500px;\n  overflow: auto;\n  padding: 15px;\n  padding-right: 0;\n}\n.image-list[data-v-05e646cd]:before, .image-list[data-v-05e646cd]:after {\n    content: " ";\n    display: table;\n}\n.image-list[data-v-05e646cd]:after {\n    clear: both;\n}\n.image-item[data-v-05e646cd] {\n  float: left;\n  overflow: hidden;\n  position: relative;\n  text-align: center;\n  border: 1px solid #eee;\n  box-sizing: border-box;\n  width: 140px;\n  height: 140px;\n  margin: 1px 1px 1px 0;\n  vertical-align: top;\n}\n.image-item .title[data-v-05e646cd] {\n    background: rgba(0, 0, 0, 0.8);\n    color: white;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    font-size: 14px;\n    padding: 5px;\n    box-sizing: border-box;\n    cursor: pointer;\n    user-select: none;\n}\n.image-item .cover[data-v-05e646cd] {\n    height: 100%;\n}\n.image-item .loader[data-v-05e646cd] {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: block;\n    width: 44px;\n    margin-top: -24px;\n    margin-left: -22px;\n}\n.percent[data-v-05e646cd] {\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n.percent .percent-inner[data-v-05e646cd] {\n    height: 4px;\n    background: #20a0ff;\n    width: 0;\n}\nh3[data-v-05e646cd] {\n  padding: 10px 15px;\n  border: 1px solid #eee;\n  margin: 0;\n  position: relative;\n}\n.bottom[data-v-05e646cd] {\n  position: relative;\n  padding: 10px 15px;\n  border-top: 1px solid #eee;\n}\n.save-btn[data-v-05e646cd] {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n.panel-mask[data-v-05e646cd] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  z-index: 99;\n}\n.panel-dialog[data-v-05e646cd] {\n  background: white;\n  position: absolute;\n  text-align: center;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -120px;\n  width: 240px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 11px rgba(0, 0, 0, 0.3);\n}\n.panel-dialog-text[data-v-05e646cd] {\n  margin-top: 25px;\n  margin-bottom: 25px;\n}\n.ok[data-v-05e646cd] {\n  position: absolute;\n  bottom: 3px;\n  right: 5px;\n  width: 32px;\n}\n.btn-ios[data-v-05e646cd] {\n  color: #0087ec;\n  border-width: 0;\n  border-top: 1px solid #eee;\n  text-align: center;\n  padding: 8px;\n  cursor: pointer;\n}\n@media (max-width: 1300px) {\n.panel[data-v-05e646cd] {\n    margin-top: 20px;\n}\n}\n',"",{version:3,sources:["/Users/jump/GitHub/vue-image-uploader/src/uploader.scss"],names:[],mappings:";AAAA;EACE,YAAY;EACZ,0BAA0B;EAC1B,sBAAsB;EACtB,aAAa;EACb,cAAc;EACd,UAAU;EACV,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;CAAE;AAE1B;EACE,uBAAuB;EACvB,mBAAmB;EACnB,aAAa;CAAE;AAEjB;EACE,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,+BAA+B;EAC/B,gBAAgB;EAChB,eAAe;CAAE;AAEnB;EACE,mBAAmB;EACnB,kBAAkB;CAAE;AAEtB;EACE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,0BAA0B;EAC1B,mBAAmB;CAAE;AACrB;IACE,mBAAmB;IACnB,kBAAkB;IAClB,SAAS;IACT,OAAO;IACP,gBAAgB;IAChB,YAAY;IACZ,gBAAgB;CAAE;AAEtB;EACE,cAAc;EACd,eAAe;EACf,cAAc;EACd,iBAAiB;CAAE;AACnB;IACE,aAAa;IACb,eAAe;CAAE;AACnB;IACE,YAAY;CAAE;AAElB;EACE,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,uBAAuB;EACvB,uBAAuB;EACvB,aAAa;EACb,cAAc;EACd,sBAAsB;EACtB,oBAAoB;CAAE;AACtB;IACE,+BAA+B;IAC/B,aAAa;IACb,mBAAmB;IACnB,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,gBAAgB;IAChB,aAAa;IACb,uBAAuB;IACvB,gBAAgB;IAChB,kBAAkB;CAAE;AACtB;IACE,aAAa;CAAE;AACjB;IACE,mBAAmB;IACnB,SAAS;IACT,UAAU;IACV,eAAe;IACf,YAAY;IACZ,kBAAkB;IAClB,mBAAmB;CAAE;AAEzB;EACE,YAAY;EACZ,YAAY;EACZ,qCAAqC;EACrC,mBAAmB;EACnB,UAAU;EACV,QAAQ;CAAE;AACV;IACE,YAAY;IACZ,oBAAoB;IACpB,SAAS;CAAE;AAEf;EACE,mBAAmB;EACnB,uBAAuB;EACvB,UAAU;EACV,mBAAmB;CAAE;AAEvB;EACE,mBAAmB;EACnB,mBAAmB;EACnB,2BAA2B;CAAE;AAE/B;EACE,mBAAmB;EACnB,YAAY;EACZ,UAAU;CAAE;AAEd;EACE,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,+BAA+B;EAC/B,mBAAmB;EACnB,YAAY;CAAE;AAEhB;EACE,kBAAkB;EAClB,mBAAmB;EACnB,mBAAmB;EACnB,SAAS;EACT,UAAU;EACV,mBAAmB;EACnB,oBAAoB;EACpB,aAAa;EACb,mBAAmB;EACnB,4CAA4C;CAAE;AAEhD;EACE,iBAAiB;EACjB,oBAAoB;CAAE;AAExB;EACE,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,YAAY;CAAE;AAEhB;EACE,eAAe;EACf,gBAAgB;EAChB,2BAA2B;EAC3B,mBAAmB;EACnB,aAAa;EACb,gBAAgB;CAAE;AAEpB;AACE;IACE,iBAAiB;CAAE;CAAE",file:"uploader.scss",sourcesContent:['.btn {\n  color: #fff;\n  background-color: #20a0ff;\n  border-color: #20a0ff;\n  border: none;\n  outline: none;\n  margin: 0;\n  padding: 10px 15px;\n  font-size: 14px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: inline-block; }\n\n.btn-disable {\n  background-color: #eee;\n  border-color: #eee;\n  color: black; }\n\n.mask {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  overflow: auto; }\n\n.place-holder {\n  text-align: center;\n  margin-top: 200px; }\n\n.panel {\n  width: 750px;\n  background: white;\n  color: #333;\n  margin: 100px auto 0 auto;\n  position: relative; }\n  .panel .close {\n    position: absolute;\n    padding: 1px 15px;\n    right: 0;\n    top: 0;\n    font-size: 28px;\n    color: gray;\n    cursor: pointer; }\n\n.image-list {\n  height: 500px;\n  overflow: auto;\n  padding: 15px;\n  padding-right: 0; }\n  .image-list:before, .image-list:after {\n    content: " ";\n    display: table; }\n  .image-list:after {\n    clear: both; }\n\n.image-item {\n  float: left;\n  overflow: hidden;\n  position: relative;\n  text-align: center;\n  border: 1px solid #eee;\n  box-sizing: border-box;\n  width: 140px;\n  height: 140px;\n  margin: 1px 1px 1px 0;\n  vertical-align: top; }\n  .image-item .title {\n    background: rgba(0, 0, 0, 0.8);\n    color: white;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    font-size: 14px;\n    padding: 5px;\n    box-sizing: border-box;\n    cursor: pointer;\n    user-select: none; }\n  .image-item .cover {\n    height: 100%; }\n  .image-item .loader {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: block;\n    width: 44px;\n    margin-top: -24px;\n    margin-left: -22px; }\n\n.percent {\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  bottom: 0;\n  left: 0; }\n  .percent .percent-inner {\n    height: 4px;\n    background: #20a0ff;\n    width: 0; }\n\nh3 {\n  padding: 10px 15px;\n  border: 1px solid #eee;\n  margin: 0;\n  position: relative; }\n\n.bottom {\n  position: relative;\n  padding: 10px 15px;\n  border-top: 1px solid #eee; }\n\n.save-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px; }\n\n.panel-mask {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  z-index: 99; }\n\n.panel-dialog {\n  background: white;\n  position: absolute;\n  text-align: center;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -120px;\n  width: 240px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 11px rgba(0, 0, 0, 0.3); }\n\n.panel-dialog-text {\n  margin-top: 25px;\n  margin-bottom: 25px; }\n\n.ok {\n  position: absolute;\n  bottom: 3px;\n  right: 5px;\n  width: 32px; }\n\n.btn-ios {\n  color: #0087ec;\n  border-width: 0;\n  border-top: 1px solid #eee;\n  text-align: center;\n  padding: 8px;\n  cursor: pointer; }\n\n@media (max-width: 1300px) {\n  .panel {\n    margin-top: 20px; } }\n'],sourceRoot:""}])},'./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-5dc37ded","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss':function(e,n,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!0)).push([e.i,'\n.btn[data-v-5dc37ded] {\n  color: #fff;\n  background-color: #20a0ff;\n  border-color: #20a0ff;\n  border: none;\n  outline: none;\n  margin: 0;\n  padding: 10px 15px;\n  font-size: 14px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: inline-block;\n}\n.btn-disable[data-v-5dc37ded] {\n  background-color: #eee;\n  border-color: #eee;\n  color: black;\n}\n.mask[data-v-5dc37ded] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  overflow: auto;\n}\n.place-holder[data-v-5dc37ded] {\n  text-align: center;\n  margin-top: 200px;\n}\n.panel[data-v-5dc37ded] {\n  width: 750px;\n  background: white;\n  color: #333;\n  margin: 100px auto 0 auto;\n  position: relative;\n}\n.panel .close[data-v-5dc37ded] {\n    position: absolute;\n    padding: 1px 15px;\n    right: 0;\n    top: 0;\n    font-size: 28px;\n    color: gray;\n    cursor: pointer;\n}\n.image-list[data-v-5dc37ded] {\n  height: 500px;\n  overflow: auto;\n  padding: 15px;\n  padding-right: 0;\n}\n.image-list[data-v-5dc37ded]:before, .image-list[data-v-5dc37ded]:after {\n    content: " ";\n    display: table;\n}\n.image-list[data-v-5dc37ded]:after {\n    clear: both;\n}\n.image-item[data-v-5dc37ded] {\n  float: left;\n  overflow: hidden;\n  position: relative;\n  text-align: center;\n  border: 1px solid #eee;\n  box-sizing: border-box;\n  width: 140px;\n  height: 140px;\n  margin: 1px 1px 1px 0;\n  vertical-align: top;\n}\n.image-item .title[data-v-5dc37ded] {\n    background: rgba(0, 0, 0, 0.8);\n    color: white;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    font-size: 14px;\n    padding: 5px;\n    box-sizing: border-box;\n    cursor: pointer;\n    user-select: none;\n}\n.image-item .cover[data-v-5dc37ded] {\n    height: 100%;\n}\n.image-item .loader[data-v-5dc37ded] {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: block;\n    width: 44px;\n    margin-top: -24px;\n    margin-left: -22px;\n}\n.percent[data-v-5dc37ded] {\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n.percent .percent-inner[data-v-5dc37ded] {\n    height: 4px;\n    background: #20a0ff;\n    width: 0;\n}\nh3[data-v-5dc37ded] {\n  padding: 10px 15px;\n  border: 1px solid #eee;\n  margin: 0;\n  position: relative;\n}\n.bottom[data-v-5dc37ded] {\n  position: relative;\n  padding: 10px 15px;\n  border-top: 1px solid #eee;\n}\n.save-btn[data-v-5dc37ded] {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n.panel-mask[data-v-5dc37ded] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  z-index: 99;\n}\n.panel-dialog[data-v-5dc37ded] {\n  background: white;\n  position: absolute;\n  text-align: center;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -120px;\n  width: 240px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 11px rgba(0, 0, 0, 0.3);\n}\n.panel-dialog-text[data-v-5dc37ded] {\n  margin-top: 25px;\n  margin-bottom: 25px;\n}\n.ok[data-v-5dc37ded] {\n  position: absolute;\n  bottom: 3px;\n  right: 5px;\n  width: 32px;\n}\n.btn-ios[data-v-5dc37ded] {\n  color: #0087ec;\n  border-width: 0;\n  border-top: 1px solid #eee;\n  text-align: center;\n  padding: 8px;\n  cursor: pointer;\n}\n@media (max-width: 1300px) {\n.panel[data-v-5dc37ded] {\n    margin-top: 20px;\n}\n}\n',"",{version:3,sources:["/Users/jump/GitHub/vue-image-uploader/src/uploader.scss"],names:[],mappings:";AAAA;EACE,YAAY;EACZ,0BAA0B;EAC1B,sBAAsB;EACtB,aAAa;EACb,cAAc;EACd,UAAU;EACV,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;CAAE;AAE1B;EACE,uBAAuB;EACvB,mBAAmB;EACnB,aAAa;CAAE;AAEjB;EACE,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,+BAA+B;EAC/B,gBAAgB;EAChB,eAAe;CAAE;AAEnB;EACE,mBAAmB;EACnB,kBAAkB;CAAE;AAEtB;EACE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,0BAA0B;EAC1B,mBAAmB;CAAE;AACrB;IACE,mBAAmB;IACnB,kBAAkB;IAClB,SAAS;IACT,OAAO;IACP,gBAAgB;IAChB,YAAY;IACZ,gBAAgB;CAAE;AAEtB;EACE,cAAc;EACd,eAAe;EACf,cAAc;EACd,iBAAiB;CAAE;AACnB;IACE,aAAa;IACb,eAAe;CAAE;AACnB;IACE,YAAY;CAAE;AAElB;EACE,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB;EACnB,uBAAuB;EACvB,uBAAuB;EACvB,aAAa;EACb,cAAc;EACd,sBAAsB;EACtB,oBAAoB;CAAE;AACtB;IACE,+BAA+B;IAC/B,aAAa;IACb,mBAAmB;IACnB,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,gBAAgB;IAChB,aAAa;IACb,uBAAuB;IACvB,gBAAgB;IAChB,kBAAkB;CAAE;AACtB;IACE,aAAa;CAAE;AACjB;IACE,mBAAmB;IACnB,SAAS;IACT,UAAU;IACV,eAAe;IACf,YAAY;IACZ,kBAAkB;IAClB,mBAAmB;CAAE;AAEzB;EACE,YAAY;EACZ,YAAY;EACZ,qCAAqC;EACrC,mBAAmB;EACnB,UAAU;EACV,QAAQ;CAAE;AACV;IACE,YAAY;IACZ,oBAAoB;IACpB,SAAS;CAAE;AAEf;EACE,mBAAmB;EACnB,uBAAuB;EACvB,UAAU;EACV,mBAAmB;CAAE;AAEvB;EACE,mBAAmB;EACnB,mBAAmB;EACnB,2BAA2B;CAAE;AAE/B;EACE,mBAAmB;EACnB,YAAY;EACZ,UAAU;CAAE;AAEd;EACE,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,+BAA+B;EAC/B,mBAAmB;EACnB,YAAY;CAAE;AAEhB;EACE,kBAAkB;EAClB,mBAAmB;EACnB,mBAAmB;EACnB,SAAS;EACT,UAAU;EACV,mBAAmB;EACnB,oBAAoB;EACpB,aAAa;EACb,mBAAmB;EACnB,4CAA4C;CAAE;AAEhD;EACE,iBAAiB;EACjB,oBAAoB;CAAE;AAExB;EACE,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,YAAY;CAAE;AAEhB;EACE,eAAe;EACf,gBAAgB;EAChB,2BAA2B;EAC3B,mBAAmB;EACnB,aAAa;EACb,gBAAgB;CAAE;AAEpB;AACE;IACE,iBAAiB;CAAE;CAAE",file:"uploader.scss",sourcesContent:['.btn {\n  color: #fff;\n  background-color: #20a0ff;\n  border-color: #20a0ff;\n  border: none;\n  outline: none;\n  margin: 0;\n  padding: 10px 15px;\n  font-size: 14px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: inline-block; }\n\n.btn-disable {\n  background-color: #eee;\n  border-color: #eee;\n  color: black; }\n\n.mask {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  overflow: auto; }\n\n.place-holder {\n  text-align: center;\n  margin-top: 200px; }\n\n.panel {\n  width: 750px;\n  background: white;\n  color: #333;\n  margin: 100px auto 0 auto;\n  position: relative; }\n  .panel .close {\n    position: absolute;\n    padding: 1px 15px;\n    right: 0;\n    top: 0;\n    font-size: 28px;\n    color: gray;\n    cursor: pointer; }\n\n.image-list {\n  height: 500px;\n  overflow: auto;\n  padding: 15px;\n  padding-right: 0; }\n  .image-list:before, .image-list:after {\n    content: " ";\n    display: table; }\n  .image-list:after {\n    clear: both; }\n\n.image-item {\n  float: left;\n  overflow: hidden;\n  position: relative;\n  text-align: center;\n  border: 1px solid #eee;\n  box-sizing: border-box;\n  width: 140px;\n  height: 140px;\n  margin: 1px 1px 1px 0;\n  vertical-align: top; }\n  .image-item .title {\n    background: rgba(0, 0, 0, 0.8);\n    color: white;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    font-size: 14px;\n    padding: 5px;\n    box-sizing: border-box;\n    cursor: pointer;\n    user-select: none; }\n  .image-item .cover {\n    height: 100%; }\n  .image-item .loader {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: block;\n    width: 44px;\n    margin-top: -24px;\n    margin-left: -22px; }\n\n.percent {\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  bottom: 0;\n  left: 0; }\n  .percent .percent-inner {\n    height: 4px;\n    background: #20a0ff;\n    width: 0; }\n\nh3 {\n  padding: 10px 15px;\n  border: 1px solid #eee;\n  margin: 0;\n  position: relative; }\n\n.bottom {\n  position: relative;\n  padding: 10px 15px;\n  border-top: 1px solid #eee; }\n\n.save-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px; }\n\n.panel-mask {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  z-index: 99; }\n\n.panel-dialog {\n  background: white;\n  position: absolute;\n  text-align: center;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -120px;\n  width: 240px;\n  border-radius: 3px;\n  box-shadow: 0px 1px 11px rgba(0, 0, 0, 0.3); }\n\n.panel-dialog-text {\n  margin-top: 25px;\n  margin-bottom: 25px; }\n\n.ok {\n  position: absolute;\n  bottom: 3px;\n  right: 5px;\n  width: 32px; }\n\n.btn-ios {\n  color: #0087ec;\n  border-width: 0;\n  border-top: 1px solid #eee;\n  text-align: center;\n  padding: 8px;\n  cursor: pointer; }\n\n@media (max-width: 1300px) {\n  .panel {\n    margin-top: 20px; } }\n'],sourceRoot:""}])},"./node_modules/css-loader/lib/css-base.js":function(e,n){e.exports=function(t){var i=[];return i.toString=function(){return this.map(function(e){var n=function(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(o),r=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[t].concat(r).concat([a]).join("\n")}return[t].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},i.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var t={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(t[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&t[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),i.push(r))}},i}},"./node_modules/vue-loader/lib/runtime/component-normalizer.js":function(e,n,t){function o(e,n,t,o,a,r,i,s){var l=typeof(e=e||{}).default;"object"!=l&&"function"!=l||(e=e.default);var d,c="function"==typeof e?e.options:e;if(n&&(c.render=n,c.staticRenderFns=t,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId=r),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=d):a&&(d=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(e,n){return d.call(n),u(e,n)}}else{var A=c.beforeCreate;c.beforeCreate=A?[].concat(A,d):[d]}return{exports:e,options:c}}t.r(n),t.d(n,"default",function(){return o})},'./node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-05e646cd","hasScoped":true,"optionsId":"0","buble":{"transforms":{}}}!./src/videoUploader/index.html':function(e,n,a){a.r(n),a.d(n,"render",function(){return t}),a.d(n,"staticRenderFns",function(){return o});var t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mask",style:{zIndex:t.zIndex}},[o("div",{staticClass:"panel"},[t.showPanelMask?o("div",{staticClass:"panel-mask"},[t.maskText?o("div",{staticClass:"panel-dialog"},[o("div",{staticClass:"panel-dialog-text"},[t._v(t._s(t.maskText))]),t._v(" "),o("div",{staticClass:"btn-ios",on:{click:t.closeDialog}},[t._v("确 定")])]):t._e()]):t._e(),t._v(" "),o("h3",[t._v("选择视频\n                "),o("span",{staticClass:"close",on:{click:function(e){return t.close(!0)}}},[t._v("×")])]),t._v(" "),o("div",{ref:"frame",staticClass:"image-list"},[0===t.files.length?[o("div",{staticClass:"place-holder"},[o("img",{attrs:{src:a("./src/images/add.png"),alt:""},on:{click:t.addFile}}),t._v(" "),o("div",[o("span",{staticClass:"btn",on:{click:t.addFile}},[t._v("请添加视频")])])])]:t._e(),t._v(" "),t._l(t.files,function(n){return o("div",{staticClass:"image-item"},[o("div",{staticClass:"title"},[2===n.status?[o("span",[t._v("上传成功")])]:t._e(),t._v(" "),3===n.status?[o("span",[t._v("上传失败")])]:t._e(),t._v(" "),o("span",{staticStyle:{float:"right"},on:{click:function(e){return t.del(n)}}},[t._v("删除")])],2),t._v(" "),1===n.status?[o("img",{staticClass:"loader",attrs:{src:a("./src/images/loader.svg"),alt:""}})]:t._e(),t._v(" "),o("img",{staticClass:"cover",staticStyle:{height:"64px","margin-top":"36px"},attrs:{src:a("./src/images/video.png"),alt:""}}),t._v(" "),o("div",{staticClass:"name"},[t._v(t._s(n.name))]),t._v(" "),n.percent&&t.showProgress?o("div",{staticClass:"percent"},[o("div",{staticClass:"percent-inner",style:t.percentStyle(n)})]):t._e(),t._v(" "),2===n.status?o("img",{staticClass:"ok",attrs:{src:a("./src/images/ok.png"),alt:""}}):t._e()],2)}),t._v(" "),0<t.files.length?o("div",{staticClass:"image-item",on:{click:t.addFile}},[o("img",{staticStyle:{"margin-top":"25px"},attrs:{src:a("./src/images/add.png"),alt:"添加视频"}})]):t._e()],2),t._v(" "),o("div",{staticClass:"bottom"},[t._v("\n                选择"+t._s(t.files.length)+"个视频，需要上传 "+t._s(t.files.length-t.uploadSuccessNum)+"个\n                "),t.uploadFinish?[o("span",{staticClass:"btn",staticStyle:{"margin-left":"15px"},on:{click:function(e){return t.up()}}},[t._v("\n                        上传\n                    ")])]:t._e(),t._v(" "),t.uploadFinish?t._e():[o("span",{staticClass:"btn btn-disable",staticStyle:{"margin-left":"15px"},on:{click:function(e){return t.up()}}},[t._v("\n                        上传中...\n                    ")])],t._v(" "),o("span",{staticClass:"btn save-btn",on:{click:function(e){return t.close()}}},[t._v("确 定")]),t._v(" "),o("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:t.selectFile}})],2)])])])},o=[];t._withStripped=!0},'./node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-5dc37ded","hasScoped":true,"optionsId":"0","buble":{"transforms":{}}}!./src/imageUploader/index.html':function(e,n,a){a.r(n),a.d(n,"render",function(){return t}),a.d(n,"staticRenderFns",function(){return o});var t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mask",style:{zIndex:t.zIndex}},[o("div",{staticClass:"panel"},[t.showPanelMask?o("div",{staticClass:"panel-mask"},[t.maskText?o("div",{staticClass:"panel-dialog"},[o("div",{staticClass:"panel-dialog-text"},[t._v(t._s(t.maskText))]),t._v(" "),o("div",{staticClass:"btn-ios",on:{click:t.closeDialog}},[t._v("确 定")])]):t._e()]):t._e(),t._v(" "),o("h3",[t._v("选择图片\n                "),o("span",{staticClass:"close",on:{click:function(e){return t.close(!0)}}},[t._v("×")])]),t._v(" "),o("div",{ref:"frame",staticClass:"image-list"},[0===t.files.length?[o("div",{staticClass:"place-holder"},[o("img",{attrs:{src:a("./src/images/add.png"),alt:""},on:{click:t.addFile}}),t._v(" "),o("div",[o("span",{staticClass:"btn",on:{click:t.addFile}},[t._v("请添加图片")])])])]:t._e(),t._v(" "),t._l(t.files,function(n){return o("div",{staticClass:"image-item"},[o("div",{staticClass:"title"},[2===n.status?[o("span",[t._v("上传成功")])]:t._e(),t._v(" "),3===n.status?[o("span",[t._v("上传失败")])]:t._e(),t._v(" "),o("span",{staticStyle:{float:"right"},on:{click:function(e){return t.del(n)}}},[t._v("删除")])],2),t._v(" "),1===n.status?[o("img",{staticClass:"loader",attrs:{src:a("./src/images/loader.svg"),alt:""}})]:t._e(),t._v(" "),o("img",{staticClass:"cover",attrs:{src:n.thumb,alt:""}}),t._v(" "),n.percent&&t.showProgress?o("div",{staticClass:"percent"},[o("div",{staticClass:"percent-inner",style:t.percentStyle(n)})]):t._e(),t._v(" "),2===n.status?o("img",{staticClass:"ok",attrs:{src:a("./src/images/ok.png"),alt:""}}):t._e()],2)}),t._v(" "),0<t.files.length?o("div",{staticClass:"image-item",on:{click:t.addFile}},[o("img",{staticStyle:{"margin-top":"25px"},attrs:{src:a("./src/images/add.png"),alt:"添加视频"}})]):t._e()],2),t._v(" "),o("div",{staticClass:"bottom"},[t._v("\n                选择"+t._s(t.files.length)+"个图片，需要上传 "+t._s(t.files.length-t.uploadSuccessNum)+"个\n                "),t.uploadFinish?[o("span",{staticClass:"btn",staticStyle:{"margin-left":"15px"},on:{click:function(e){return t.up()}}},[t._v("\n                        上传\n                    ")])]:t._e(),t._v(" "),t.uploadFinish?t._e():[o("span",{staticClass:"btn btn-disable",staticStyle:{"margin-left":"15px"},on:{click:function(e){return t.up()}}},[t._v("\n                        上传中...\n                    ")])],t._v(" "),o("span",{staticClass:"btn save-btn",on:{click:function(e){return t.close()}}},[t._v("确 定")]),t._v(" "),o("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{accept:t.fileAccept,type:"file",multiple:""},on:{change:t.selectFile}})],2)])])])},o=[];t._withStripped=!0},'./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-05e646cd","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss':function(e,n,t){var o=t('./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-05e646cd","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss');"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("24efd7d8",o,!1,{})},'./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-5dc37ded","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss':function(e,n,t){var o=t('./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-5dc37ded","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss');"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("3deb3d6a",o,!1,{})},"./node_modules/vue-style-loader/lib/addStylesClient.js":function(e,n,t){t.r(n),t.d(n,"default",function(){return m});var l=t("./node_modules/vue-style-loader/lib/listToStyles.js"),o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d={},a=o&&(document.head||document.getElementsByTagName("head")[0]),r=null,i=0,c=!1,s=function(){},u=null,A="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(i,e,n,t){c=n,u=t||{};var s=Object(l.default)(i,e);return f(s),function(e){for(var n=[],t=0;t<s.length;t++){var o=s[t];(a=d[o.id]).refs--,n.push(a)}e?f(s=Object(l.default)(i,e)):s=[];for(t=0;t<n.length;t++){var a;if(0===(a=n[t]).refs){for(var r=0;r<a.parts.length;r++)a.parts[r]();delete d[a.id]}}}}function f(e){for(var n=0;n<e.length;n++){var t=e[n],o=d[t.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](t.parts[a]);for(;a<t.parts.length;a++)o.parts.push(h(t.parts[a]));o.parts.length>t.parts.length&&(o.parts.length=t.parts.length)}else{var r=[];for(a=0;a<t.parts.length;a++)r.push(h(t.parts[a]));d[t.id]={id:t.id,refs:1,parts:r}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function h(n){var t,o,e=document.querySelector("style["+A+'~="'+n.id+'"]');if(e){if(c)return s;e.parentNode.removeChild(e)}if(p){var a=i++;e=r=r||g(),t=C.bind(null,e,a,!1),o=C.bind(null,e,a,!0)}else e=g(),t=function(e,n){var t=n.css,o=n.media,a=n.sourceMap;o&&e.setAttribute("media",o);u.ssrId&&e.setAttribute(A,n.id);a&&(t+="\n/*# sourceURL="+a.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,e),o=function(){e.parentNode.removeChild(e)};return t(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;t(n=e)}else o()}}var v,b=(v=[],function(e,n){return v[e]=n,v.filter(Boolean).join("\n")});function C(e,n,t,o){var a=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(n,a);else{var r=document.createTextNode(a),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(r,i[n]):e.appendChild(r)}}},"./node_modules/vue-style-loader/lib/listToStyles.js":function(e,n,t){function o(e,n){for(var t=[],o={},a=0;a<n.length;a++){var r=n[a],i=r[0],s={id:e+":"+a,css:r[1],media:r[2],sourceMap:r[3]};o[i]?o[i].parts.push(s):t.push(o[i]={id:i,parts:[s]})}return t}t.r(n),t.d(n,"default",function(){return o})},"./src/baseViewCtrl.js":function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./src/func.js");n.default={data:function(){return{files:[],uploadSuccessNum:0,boxWidth:0,uploadFinish:!0,showPanelMask:!1,maskText:"",thumb:!0}},watch:{show:function(e){e?(document.body.style.overflow="hidden",this.files=this._uploader.getFiles(),document.addEventListener("keydown",this.onEsc,!1)):document.removeEventListener("keydown",this.onEsc,!1)},files:function(e){var n=0;e.forEach(function(e){e.returnJson&&e.returnJson.success&&n++}),(0,o.log)("files update"),this.uploadSuccessNum=n}},methods:{onEsc:function(e){27===e.keyCode&&this.close()},selectFile:function(e){for(var n=e.target.files,t=0;t<n.length;t++){var o=n[t];this._uploader.addFile(o)}this.files=this._uploader.getFiles()},up:function(){0<this.files.length-this.uploadSuccessNum?this.uploadFinish&&(this.uploadFinish=!1,this._uploader.upload()):alert("请选择图片")},mask:function(e){this.showPanelMask=!0,e&&(this.maskText=e)},del:function(e){this._uploader.removeFile(e),this.files=this._uploader.getFiles()},addFile:function(){this.$refs.fileInput.value=null,this.$refs.fileInput.click()},closeDialog:function(){this.showPanelMask=!1,this.maskText=""},close:function(e){var n=this,t=[],o=!0;if(e||n.files.forEach(function(e){if(!e.returnJson||!e.returnJson.success)return o=!1;t.push(e.returnJson)}),!o)return n.mask("有未上传文件"),!1;document.body.style.overflow="",n.$emit("finish",t),n.files=[],n.uploadFinish=!0,n.uploadSuccessNum=0,n._uploader.clear()},percentStyle:function(e){return{width:e.percent+"%"}}}}},"./src/ctrl.js":function(e,n,t){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var a=(function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}(r,[{key:"on",value:function(e,n){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(n)}},{key:"off",value:function(e,n){this._events=this._events||{},e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(n),1)}},{key:"trigger",value:function(e){if(this._events=this._events||{},e in this._events!=0)for(var n=0;n<this._events[e].length;n++)this._events[e][n].apply(this,Array.prototype.slice.call(arguments,1))}}]),r);function r(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.counter=0}n.default=a},"./src/func.js":function(e,n,t){var o=0;e.exports={UPLOAD_STATUS:{WAIT:0,UPLOAD_ING:1,SUCESS:2,FAILED:3},log:function(e){},uuid:function(){var e="file-"+o;return o++,e},queryIndex:function(e,n,t){for(var o=0;o<t.length;o++)if("function"==typeof n){if(n(t[o]))return o}else if(t[o][e]===n)return o},createObjectURL:function(){return window.URL.createObjectURL.apply(this,arguments)},where:function(e,n,t){for(var o=[],a=0;a<t.length;a++)"function"==typeof n?n(t[a])&&o.push(t[a]):t[a][e]===n&&o.push(t[a]);return o}}},"./src/imageUploader/uploader.vue":function(e,n,t){t.r(n);var o=t("./node_modules/babel-loader/lib/index.js!./src/imageUploader/main.js"),a=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,function(){return o[e]})}(r);var i=t('./node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-5dc37ded","hasScoped":true,"optionsId":"0","buble":{"transforms":{}}}!./src/imageUploader/index.html'),s=t("./node_modules/vue-loader/lib/runtime/component-normalizer.js");function l(e){t('./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-5dc37ded","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss')}var d=Object(s.default)(a.a,i.render,i.staticRenderFns,!1,l,"data-v-5dc37ded",null);d.options.__file="src/imageUploader/uploader.vue",n.default=d.exports},"./src/images/add.png":function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABLCAIAAAB7tddWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1Q0VBNzA0MjEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1Q0VBNzA0MzEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAzNDA2MkY1MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAzNDA2MkY2MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+K6izdgAAAvpJREFUeNrsnFmPqkAQhWmX667gEp9c/v+/MkSDG+4LrvdcSYgRbw/0ALZQ9WBUJOn+uqvqHGCG3e93hUJRUoSAQBAIAkEgCASBIBAE4neRicEcII51Xb/dbnjPGOt0OqlUKok7ApN3jIKwY6DUIBAEgkAQCALho/X47TeXy8U0TcuyrtdrZKPs9/v2m8FgINYgf9QX/gTV+Xw2DCNKBJKmxmKxsAVc0kEcDgfyGq8CNp/Pa5qWy+WiHG6v13v7/XPt6Ha7Al5D3HQ1Go1sNkvtU8lkMsmtESSoCASBSFqEW/DQ0tbr9W63O51OKK6FQkFV1XQ6nSwQ0OOTyQSvjknZbDaA0mq1QCQafSFFasxmM4eCE1Do0+lUQrcSFggsPhzq20NgsVqtkpIax+MxMs+C/aXruvMxaonND75J9W5hUWWxuYAVdRfTg8EplUphGJywQPAFuBd5Dlhw/aDwwgVtCDgCdzph1QisG+dosVjkn44WYxjGC4XnvBuNRtvt9gtA2Hv47SGsZKVS4ef8eDzG4vMVCrpSgEU3xPbZbDar1erLl1AQ7XabU8xAAXvB3XffBnIHwkR2QcUYq9fr5XIZOxkTg6BEkeNLKdQF7AWPFBy1AoUmu8RG/HmE91nxM+J/ORIr07VcLvf7feCt+stAQGIBRNJtOJolDAhdj/hXGj5+u+TzIKAF+MbkK00XFta2BhDRUE0/9gv8Elogbu4TBW8+nyPhHSeuaVqtVuNQC6TzyQUCXsg0TbfyAxfIKogr9ynP1GJyYQZ57qbg7AuIRfclKZwSlDqWBQSmxM9zFALYh+fFBwJJSkNgqeFxSrAPw+EQ9QJew7Is2Sj8FgSW2nu1gylYPkKRMsRTA+4IcjA2fxsnDkLOq/IfACFP54uP1yAQBIJAEIh4gWCPkHk+GJ7AjU/fICJ+qlIghEfoDwQMtRjvyLYDRih4rsDT+bBM9tP5kuhrzN++e6SqqvCdYUb/SIO6BoEgEASCQBAIAkEgCEQg8VeAAQAB1bbO2qoeewAAAABJRU5ErkJggg=="},"./src/images/loader.svg":function(e,n){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nNDJweCcgaGVpZ2h0PSc0MnB4JyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCIgY2xhc3M9InVpbC1kZWZhdWx0Ij48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0ibm9uZSIgY2xhc3M9ImJrIj48L3JlY3Q+PHJlY3QgIHg9JzQ3JyB5PSc0MCcgd2lkdGg9JzYnIGhlaWdodD0nMjAnIHJ4PSczJyByeT0nMycgZmlsbD0nIzdkN2Q3ZCcgdHJhbnNmb3JtPSdyb3RhdGUoMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzBzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgzMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuMDgzMzMzMzMzMzMzMzMzMzNzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuMTY2NjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSg5MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuMjVzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjMzMzMzMzMzMzMzMzMzMzNzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgxNTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjQxNjY2NjY2NjY2NjY2NjdzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgxODAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjVzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgyMTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjU4MzMzMzMzMzMzMzMzMzRzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgyNDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjY2NjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDcnIHk9JzQwJyB3aWR0aD0nNicgaGVpZ2h0PScyMCcgcng9JzMnIHJ5PSczJyBmaWxsPScjN2Q3ZDdkJyB0cmFuc2Zvcm09J3JvdGF0ZSgyNzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjc1cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ3JyB5PSc0MCcgd2lkdGg9JzYnIGhlaWdodD0nMjAnIHJ4PSczJyByeT0nMycgZmlsbD0nIzdkN2Q3ZCcgdHJhbnNmb3JtPSdyb3RhdGUoMzAwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC44MzMzMzMzMzMzMzMzMzM0cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ3JyB5PSc0MCcgd2lkdGg9JzYnIGhlaWdodD0nMjAnIHJ4PSczJyByeT0nMycgZmlsbD0nIzdkN2Q3ZCcgdHJhbnNmb3JtPSdyb3RhdGUoMzMwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC45MTY2NjY2NjY2NjY2NjY2cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PC9zdmc+"},"./src/images/ok.png":function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAACIUlEQVRYR+2X8VXbMBDGv5ugMEHFBMAETTdgA6wJCBOQTkA6gegG3QCYALqBugGd4PrOuRDjSJbsCGzes/9MzrqfvtN9JxM+yUOfhBMzaOlKzYrOipZW4ND1jOMjEG7A+OstrSd5Ro3jCoRbAEdgXE8S1Di+A+HytSKM797Sw6QU3YMU2qmBBiGnBhqF3IBab+lu9NJr47ioSzB+eEurUUGN4zMQ7uvujj1jg6pPCuRZp+cyfnpLy9EUNY7XIFwlBwPj0VtajAJqHC+05ElOMH55S9VYoM8gnCZK/g9A5S39lrjioKKWTJIYhHG8qmd418N4BHDhLb1sw4qBageLzRgwTppJtsmMYwPCU6LL61K391EE1Dheqkobm1FLaSczjh9A+NZhRbW5h/4/CFQVEhUXrcVffEXHzd+SDaQTKLaJwaB7KrYztBIbx/EGSkAOaiY1alHxIuEt3ld0IjGdYzIDchCoJjYApHt398YQtUIYxx6Er3shOnXSZnqgPdVnFJCLbqxBvNx+guauRp4DOVjRQDcvVeEvgcTihW8vHYw/3lL3jG8tNLiZArCSWOwnBLsLZ8jEMSGf7VK3GKie3TSsflrklrz4ZGpMnzhsZBDkQBdVtAErn7tvb+0DzmVzA+8CGvROxrm39JyjXvERmkqq0+s2NvtT73+Ioo1jsBbr6tvl7U28W+n7qJUTO4PmqNQnZla0j1o5sbOiOSr1ifkPfFnUK5jHM9IAAAAASUVORK5CYII="},"./src/images/video.png":function(e,n){e.exports="data:image/png;base64,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"},"./src/index.js":function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var o=r(t("./src/imageUploader/uploader.vue")),a=r(t("./src/videoUploader/uploader.vue"));function r(e){return e&&e.__esModule?e:{default:e}}n.default={VueImageUploader:o.default,VueVideoUploader:a.default}},"./src/props.js":function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default={accept:{type:Array,default:function(){return["jpg","png","gif","bmp","jpeg"]}},fileAccept:{default:"image/jpg,image/jpeg,image/png,image/gif"},show:{default:!1,type:Boolean},url:{type:String,required:!0},showProgress:{default:!1,type:Boolean},zIndex:{default:999,type:Number},uploadConfig:{default:function(){return{timeout:120}},type:Object}}},"./src/uploader.js":function(e,n,t){var o=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r,i=t("./src/ctrl.js"),s=(r=i)&&r.__esModule?r:{default:r},d=t("./src/func.js");var l=(function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(c,s.default),o(c,[{key:"upload",value:function(){var e=this,n=e.options;if(e.haveUploading())return(0,d.log)("正在上传，请等待"),!1;var t=e._files,o=[];t.forEach(function(e){e.status===d.UPLOAD_STATUS.FAILED&&(e.status=d.UPLOAD_STATUS.WAIT)});for(var a=0;a<t.length;a++){var r=t[a];r.status===d.UPLOAD_STATUS.WAIT&&(r.index=a,o.push(r))}e._queue=o;for(var i=Math.min(n.uploadFileMax,o.length),s=0;s<i;s++)e._upload()}},{key:"_upload",value:function(){var t=this,o=t._queue[t.queueIndex];if(t.queueIndex++,void 0===o)return(0,d.log)("已经上传到最后"),!1;var n=t.options,a=new XMLHttpRequest;console.log(n.timeout),a.timeout=1e3*n.timeout;var e=new FormData;for(var r in e.append(n.fileParamName,o.source),n.param)e.append(r,n.param[r]);function i(){t.onFail(o)}o.status=d.UPLOAD_STATUS.UPLOAD_ING,a.onload=function(){if(a.status<200||300<=a.status)return(0,d.log)(a.status),t.onFail(o),!!n.onError&&option.onError(a);var e={};try{(e=JSON.parse(a.responseText)).success?t.onSuccess(o,e):t.onFail(o)}catch(e){t.onFail(o)}},a.onabort=i,a.onerror=i,a.ontimeout=i,n.showProgress&&(a.upload.onprogress=function(e){console.log(e.loaded);var n=e.loaded/e.total*100|0;o.percent=n,t.trigger("progress",o)}),a.open("post",n.uploadUrl),a.send(e)}},{key:"haveUploading",value:function(){var e=!1,n=!0,t=!1,o=void 0;try{for(var a,r=this._files[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)if(a.value.status===d.UPLOAD_STATUS.UPLOAD_ING){e=!0;break}}catch(e){t=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(t)throw o}}return e}},{key:"onEnd",value:function(e){var n=this;if(n._upload(),!n.haveUploading()){var t=!0;n.queueIndex=0,n._files.forEach(function(e){if(e.status===d.UPLOAD_STATUS.FAILED)return t=!1}),n.trigger("finish",t)}}},{key:"onSuccess",value:function(e,n){e.status=d.UPLOAD_STATUS.SUCESS,e.returnJson=n,this.trigger("uploadSuccess",e),this.onEnd(e)}},{key:"onFail",value:function(e){e.status=d.UPLOAD_STATUS.FAILED,this.trigger("uploadFail",e),this.onEnd(e)}},{key:"addFile",value:function(e){var n=this.options,t=e.name.split(".").pop().toLowerCase();if(n.accept.indexOf(t)<0)return n.onAcceptError({name:e.name,ext:t}),!1;var o={source:e,id:(0,d.uuid)(),status:d.UPLOAD_STATUS.WAIT,thumb:"",name:e.name,size:e.size};this._files.push(o),n.thumb&&(n.compress?this._makeThumb(o):o.thumb=(0,d.createObjectURL)(e))}},{key:"removeFile",value:function(t){var o=-1;this._files.forEach(function(e,n){e.id===t.id&&(o=n)}),this._files.splice(o,1)}},{key:"_makeThumb",value:function(n){this.makeThumb(n.source,function(e){n.thumb=e})}},{key:"makeThumb",value:function(e,n){var t=this.options.thumb,o=(0,d.createObjectURL)(e),a=new Image,r=document.createElement("canvas"),i=t.width,s=t.height;a.src=o,r.width=i,r.height=s;var l=r.getContext("2d");a.onload=function(){l.drawImage(a,0,0,i,s),window.URL.revokeObjectURL(this.src);var e=r.toDataURL("image/jpeg");n(e),this.src=null,l=r=null,a.onload=null,a=null}}},{key:"stop",value:function(){}},{key:"getFiles",value:function(){return this._files}},{key:"clear",value:function(){this._files=[]}}]),c);function c(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,c);var n=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),t=n;t._files=[],t._queue=[];t.queueIndex=0;if(!e.uploadUrl)throw Error("上传地址不能为空");return t.options=Object.assign({},{uploadUrl:"",maxSize:t.queueIndex=0,uploadFileMax:5,param:{},fileParamName:"file",timeout:300,accept:[],thumb:!1,compress:!1},e),n}e.exports=l},"./src/videoUploader/uploader.vue":function(e,n,t){t.r(n);var o=t("./node_modules/babel-loader/lib/index.js!./src/videoUploader/main.js"),a=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,function(){return o[e]})}(r);var i=t('./node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-05e646cd","hasScoped":true,"optionsId":"0","buble":{"transforms":{}}}!./src/videoUploader/index.html'),s=t("./node_modules/vue-loader/lib/runtime/component-normalizer.js");function l(e){t('./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?sourceMap!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"id":"data-v-05e646cd","scoped":true,"sourceMap":true}!./node_modules/sass-loader/lib/loader.js!./src/uploader.scss')}var d=Object(s.default)(a.a,i.render,i.staticRenderFns,!1,l,"data-v-05e646cd",null);d.options.__file="src/videoUploader/uploader.vue",n.default=d.exports}},a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)a.d(t,o,function(e){return n[e]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s="./src/index.js"))}(r={exports:{}},r.exports),r.exports),l=(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;console.log(l);function p(n,e){e.forEach(function(e){n.push(e)})}function m(e){if(e.nodeType===Node.TEXT_NODE)return[e];var n=[];if(!e.hasChildNodes())return n;for(var t=e.childNodes,o=0;o<t.length;o++){var a=t[o];a.nodeType===Node.TEXT_NODE?n.push(a):a.nodeType===Node.ELEMENT_NODE&&p(n,m(a))}return n}function f(e,n){for(var t=[],o=0,a=0;a<e.childNodes.length;a++)if(e.childNodes[a].contains(n)){o=a;break}for(var r=0;r<=o;r++){var i=e.childNodes[r];i===n?p(t,m(i)):r===o?i.nodeType===Node.TEXT_NODE?t.push(i):i.nodeType===Node.ELEMENT_NODE&&p(t,f(i,n)):i.nodeType===Node.TEXT_NODE?t.push(i):i.nodeType===Node.ELEMENT_NODE&&p(t,m(i))}return t}function g(e,n){for(var t=[],o=0,a=0;a<e.childNodes.length;a++)if(e.childNodes[a].contains(n)){o=a;break}for(var r=o;r<e.childNodes.length;r++){var i=e.childNodes[r];i===n?p(t,m(i)):r===o?i.nodeType===Node.TEXT_NODE?t.push(i):i.nodeType===Node.ELEMENT_NODE&&p(t,g(i,n)):i.nodeType===Node.TEXT_NODE?t.push(i):i.nodeType===Node.ELEMENT_NODE&&p(t,m(i))}return t}function B(e){for(var n=["DIV","P","SECTION","H1","H2","H3","H4","H5","H6","OL","UL","LI","TR","TD","TH","TBODY","THEAD","TABLE","ARTICLE","HEADER","FOOTER"],t=e;t&&!n.includes(t.nodeName);)t=t.parentNode;return t}function x(e){return["A","ABBR","ACRONYM","B","CITE","CODE","EM","I","FONT","IMG","S","SMALL","SPAN","STRIKE","STRONG","U","SUB","SUP"].includes(e.nodeName)}var h=[{name:"text",icon:"fa fa-pencil",i18n:"text",dashboard:{template:'<div> <button type="button" @click="$parent.execCommand(\'bold\')">{{$parent.locale["bold"]}}</button> <button type="button" @click="$parent.execCommand(\'italic\')">{{$parent.locale["italic"]}}</button> <button type="button" @click="$parent.execCommand(\'underline\')">{{$parent.locale["underline"]}}</button> <button type="button" @click="$parent.execCommand(\'strikeThrough\')">{{$parent.locale["strike through"]}} </button> \x3c!-- <button type="button" @click="$parent.execCommand(\'subscript\')">{{$parent.locale["subscript"]}}</button>\n    <button type="button" @click="$parent.execCommand(\'superscript\')">{{$parent.locale["superscript"]}}</button> --\x3e </div> '}},t,a,n,{name:"list",icon:"fa fa-list",i18n:"list",dashboard:{template:'<div> <button type="button" @click="$parent.execCommand(\'insertOrderedList\')"> {{$parent.locale["ordered list"]}} </button> <button type="button" @click="$parent.execCommand(\'insertUnorderedList\')"> {{$parent.locale["unordered list"]}} </button> </div>'}},{name:"link",icon:"fa fa-chain",i18n:"link",dashboard:{template:'<form @submit.prevent="createLink"> <input type="text" class="search-input" :placeholder="$parent.locale[\'please enter a url\']" v-model="url" maxlength="1024"> <input type="text" class="search-title" v-model="title" placeholder="输入标题"> <button type="submit">{{$parent.locale["create link"]}}</button> </form>',data:function(){return{url:null,title:""}},methods:{createLink:function(){if(this.url&&this.title){var e=' <div>&nbsp;</div><a href="'+this.url+'" style="display: block;margin: 10px 0;color: #333;background: #f4f4f4;text-decoration: none!important;text-decoration-color: #f4f4f4;padding: 5px;overflow: hidden;border-radius: 8px;border: 1px solid #f0f0f0;line-height: 28px;"><div style=" color: #157EFB;"><i class="icon-link2"></i>网页链接:</div>'+this.title+"</a><div>&nbsp;</div>";this.$parent.execCommand(E.CREATE_LINK,e),this.url=null,this.title=null}}}}},{name:"unlink",icon:"fa fa-chain-broken",i18n:"unlink",handler:function(e){e.execCommand("unlink")}},{name:"tabulation",icon:"fa fa-table",i18n:"table",dashboard:{template:'<form @submit.prevent="insertTable"> <label> {{$parent.locale["row count"]}} <input type="number" style="width: 60px" maxlength="2" min="2" max="10" v-model="rows"> </label> <label> {{$parent.locale["column count"]}} <input type="number" style="width: 60px" maxlength="2" min="2" max="10" v-model="cols"> </label> <button type="submit">{{$parent.locale.save}}</button> </form>',data:function(){return{rows:2,cols:2,hasHead:!1,striped:!1,hover:!1}},methods:{insertTable:function(){if(!(this.rows<2||10<this.rows||this.cols<2||10<this.cols)){for(var e='<table style="border-spacing: 0px; border-collapse: collapse; width: 100%; max-width: 100%; margin-bottom: 0px; border: 1px solid rgb(221, 221, 221); color: rgb(51, 51, 51); font-size: 14px; line-height: 20px; background-color: transparent;"><tbody>',n=0;n<this.rows;n++){e+="<tr>";for(var t=0;t<this.cols;t++)e+='<td style="padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid rgb(221, 221, 221);">&nbsp;</td>';e+="</tr>"}e+="</tbody></table>",this.$parent.execCommand("insertHTML",e)}}}}},{name:"image",icon:"fa fa-file-image-o",i18n:"image",config:{},dashboard:{template:'<div> <image-uploader :z-index="9000" :show-progress="true" :show="true" :url="serverUrl" @finish="onFinish"></image-uploader> </div>',components:{"image-uploader":l.VueImageUploader},data:function(){return{imageUrl:"",showDialog:!1,serverUrl:this.$options.module.config.url}},methods:{insertImageUrl:function(){this.imageUrl&&(this.insertImg(this.imageUrl),this.imageUrl=null)},onFinish:function(e){var n=this.$options.module.config,t="path";n.returnUrl&&(t=n.returnUrl),this.$parent.dashboard=null;var o=[];e.forEach(function(e){o.push(e[t])}),0<o.length&&this.insertImg(o)},insertImg:function(e){this.$parent.execCommand(E.INSERT_IMAGE,e)}}}},{name:"indent",icon:"fa-indent fa",i18n:"indent",handler:function(e){e.execCommand("indent")}},{name:"hr",icon:"fa fa-minus",i18n:"hr",handler:function(e){e.execCommand("insertHorizontalRule")}},{name:"eraser",icon:"fa fa-eraser",i18n:"eraser",handler:function(e){e.execCommand("removeFormat")}},{name:"undo",icon:"fa-undo fa",i18n:"undo",handler:function(e){e.execCommand("undo")}},{name:"full-screen",icon:"fa fa-arrows-alt",i18n:"full screen",handler:function(e){e.toggleFullScreen()}},{name:"info",icon:"fa fa-info",i18n:"info",dashboard:{template:'<div> <h3 style="text-align: center">Vue-html5-editor&nbsp;{{version}}</h3> <p style="text-align: center"> repository: <a href="https://github.com/PeakTai/vue-html5-editor" target="_blank"> https://github.com/PeakTai/vue-html5-editor </a> </p> </div> ',data:function(){return{version:VERSION}}}},{name:"video",icon:"fa fa-file-video-o",i18n:"video",config:{},dashboard:{template:'<div> <video-uploader :upload-config="uploadConfig" :z-index="9000" :show-progress="true" :show="true" :url="serverUrl" @finish="onFinish"></video-uploader> </div>',components:{"video-uploader":l.VueVideoUploader},data:function(){var e=this.$options.module.config;return{imageUrl:"",showDialog:!1,serverUrl:e.url,uploadConfig:e.uploadConfig}},methods:{insertImageUrl:function(){this.imageUrl&&(this.insertImg(this.imageUrl),this.imageUrl=null)},onFinish:function(e){var n=this.$options.module.config,t="path";n.returnUrl&&(t=n.returnUrl);var o=[];e.forEach(function(e){o.push({url:e[t],videoUrl:e.video_path})}),this.$parent.dashboard=null,this.insertImg(o)},insertImg:function(e){this.$parent.execCommand(E.INSERT_VIDEO,e)}}}},{name:"justifyCenter",icon:"fa-align-center fa",i18n:"center justify",handler:function(e){e.execCommand("justifyCenter")}},{name:"justifyRight",icon:"fa-align-right fa",i18n:"right justify",handler:function(e){e.execCommand("justifyRight")}},{name:"justifyLeft",icon:"fa-align-left fa",i18n:"left justify",handler:function(e){e.execCommand("justifyLeft")}}];function y(){return window.getSelection?window.getSelection():document.getSelection()}Text.prototype.contains||(Text.prototype.contains=function(e){return this===e});var d,c=function(){function t(e,n){if(u(this,t),!(e&&e instanceof Range))throw new TypeError("cant't resolve range");this.range=e,this.editor=n,this.rootElement=n.$refs.content}return e(t,[{key:"getAllTextNodesInRange",value:function(){var e=this.range.startContainer,n=this.range.endContainer,t=this.range.commonAncestorContainer,o=[];if(e===n){if(e.nodeType===Node.TEXT_NODE)return[e];for(var a=e.childNodes,r=this.range.startOffset;r<this.range.endOffset;r++)p(o,m(a[r]));return o}for(var i=0,s=0,l=0;l<t.childNodes.length;l++){var d=t.childNodes[l];d.contains(e)&&(i=l),d.contains(n)&&(s=l)}for(var c=i;c<=s;c++){var u=t.childNodes[c];c===i?u.nodeType===Node.TEXT_NODE?o.push(u):u.nodeType===Node.ELEMENT_NODE&&p(o,g(u,e)):c===s?u.nodeType===Node.TEXT_NODE?o.push(u):u.nodeType===Node.ELEMENT_NODE&&p(o,f(u,n)):u.nodeType===Node.TEXT_NODE?o.push(u):u.nodeType===Node.ELEMENT_NODE&&p(o,m(u))}return o}},{key:"getParentNode",value:function(){var e=this.range,n=B(e.startContainer);return n===this.rootElement&&(n=e.startContainer),n}},{key:"execCommand",value:function(e,i){var s=this;switch(e){case E.JUSTIFY_LEFT:this.getParentNode().style.textAlign="";break;case E.JUSTIFY_RIGHT:this.getParentNode().style.textAlign="right";break;case E.JUSTIFY_CENTER:this.getParentNode().style.textAlign="center";break;case E.FORE_COLOR:document.execCommand(E.FORE_COLOR,!1,i);break;case E.BACK_COLOR:document.execCommand(E.BACK_COLOR,!1,i);break;case E.REMOVE_FORMAT:document.execCommand(E.REMOVE_FORMAT,!1,i);break;case E.FONT_NAME:document.execCommand(E.FONT_NAME,!1,i);break;case E.INDENT:var n=this.range,t=B(n.startContainer);t===this.rootElement&&(t=n.startContainer),"DIV"!==t.tagName&&"P"!==t.tagName||(t.style.textIndent?t.style.textIndent="":t.style.textIndent="2em");break;case E.FONT_SIZE:var o=this.getAllTextNodesInRange();if(!o.length)break;if(1===o.length&&o[0]===this.range.startContainer&&o[0]===this.range.endContainer){var a=o[0];if(0===this.range.startOffset&&this.range.endOffset===a.textContent.length){if(1===a.parentNode.childNodes.length&&x(a.parentNode)){a.parentNode.style.fontSize=i;break}var r=document.createElement("span");r.style.fontSize=i,a.parentNode.insertBefore(r,a),r.appendChild(a);break}var l=document.createElement("span");l.innerText=a.textContent.substring(this.range.startOffset,this.range.endOffset),l.style.fontSize=i;var d=document.createTextNode(a.textContent.substring(0,this.range.startOffset));a.parentNode.insertBefore(d,a),a.parentNode.insertBefore(l,a),a.textContent=a.textContent.substring(this.range.endOffset),this.range.setStart(l,0),this.range.setEnd(l,1);break}o.forEach(function(e){if(e===s.range.startContainer){if(0===s.range.startOffset){if(1===e.parentNode.childNodes.length&&x(e.parentNode))e.parentNode.style.fontSize=i;else{var n=document.createElement("span");n.style.fontSize=i,e.parentNode.insertBefore(n,e),n.appendChild(e)}return}var t=document.createElement("span");return e.textContent=e.textContent.substring(0,s.range.startOffset),t.style.fontSize=i,e.parentNode.insertBefore(t,e),void s.range.setStart(e,0)}if(e===s.range.endContainer){if(s.range.endOffset===e.textContent.length){if(1===e.parentNode.childNodes.length&&x(e.parentNode))e.parentNode.style.fontSize=i;else{var o=document.createElement("span");o.style.fontSize=i,e.parentNode.insertBefore(o,e),o.appendChild(e)}return}var a=document.createElement("span");return e.textContent=e.textContent.substring(s.range.endOffset),a.style.fontSize=i,e.parentNode.insertBefore(a,e),a.appendChild(e),void s.range.setStart(e,e.textContent.length)}if(1===e.parentNode.childNodes.length&&x(e.parentNode))e.parentNode.style.fontSize=i;else{var r=document.createElement("span");r.style.fontSize=i,e.parentNode.insertBefore(r,e),r.appendChild(e)}});break;case E.FORMAT_BLOCK:if(document.execCommand(E.FORMAT_BLOCK,!1,i))break;var c=document.createElement(i);this.range.surroundContents(c);break;case E.LINE_HEIGHT:this.getAllTextNodesInRange().forEach(function(e){var n=B(e);n&&(n.style.lineHeight=i)});break;case E.INSERT_HORIZONTAL_RULE:document.execCommand(E.INSERT_HORIZONTAL_RULE,!1);break;case E.INSERT_IMAGE:this.editor,this.rootElement;var u,A=this.range,p=(y(),document.createDocumentFragment());if("string"==typeof i){(u=document.createElement("img")).src=i,u.className="vue-editor-image";var m=document.createElement("p");m.appendChild(u),p.appendChild(m)}"object"===C(i)&&i.forEach(function(e){(u=document.createElement("img")).src=e,u.className="vue-editor-image";var n=document.createElement("p");n.appendChild(u),p.appendChild(n)}),A.insertNode(p),A.collapse();break;case E.INSERT_VIDEO:var f="";i.forEach(function(e){f+='<img data-url="'.concat(e.videoUrl,'" class="video-poster" src="').concat(e.url,'">')}),document.execCommand("insertHTML",!1,f);break;case E.CREATE_LINK:this.range.collapse();var g=document.createDocumentFragment(),h=document.createElement("div");if(h.innerHTML=i,h.hasChildNodes())for(var v=0;v<h.childNodes.length;v++)g.appendChild(h.childNodes[v].cloneNode(!0));this.range.deleteContents(),this.range.insertNode(g),this.range.collapse();break;case E.INSERT_ORDERED_LIST:document.execCommand(E.INSERT_ORDERED_LIST,!1,i);break;case E.INSERT_UNORDERED_LIST:document.execCommand(E.INSERT_UNORDERED_LIST,!1,i);break;case E.INSERT_HTML:var b=document.createElement("div");b.innerHTML=i,this.range.deleteContents(),this.range.insertNode(b),this.range.setStartAfter(b),this.range.collapse();break;case E.BOLD:document.execCommand(E.BOLD,!1,i);break;case E.ITALIC:document.execCommand(E.ITALIC,!1);break;case E.UNDERLINE:document.execCommand(E.UNDERLINE,!1);break;case E.STRIKE_THROUGH:document.execCommand(E.STRIKE_THROUGH,!1);break;case E.SUBSCRIPT:document.execCommand(E.SUBSCRIPT,!1);break;case E.SUPERSCRIPT:document.execCommand(E.SUPERSCRIPT,!1);break;case E.UNDO:document.execCommand(E.UNDO,!1);break;case E.UNLINK:document.execCommand(E.UNLINK,!1);break;default:document.execCommand(e,!1,i)}}}]),t}();var v="vue_editor_draft",b={stop:function(){localStorage.setItem(v,""),this.uninstall()},uninstall:function(){d&&clearInterval(d)},install:function(e){if(e.draft){if(e.draftStoreKey&&(v="vue_editor_draft_".concat(e.draftStoreKey)),e.draftTime<100)throw new Error("draft setInterval can not smaller than 100ms");var n=localStorage.getItem(v);n&&"<p><br></p>"!==n?e.showDraft=!0:(e.showDraft=!1,d=setInterval(function(){localStorage.setItem(v,e.getContent())},e.draftTime))}}};function I(e,n,t,o,a,r){var i=Object.assign({},{fileName:"file"},r),s=new FormData;s.append(i.fileName,n),t&&Object.keys(t).forEach(function(e,n){s.append("key",n)});var l=new XMLHttpRequest;l.onload=function(e){},l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status){var e=JSON.parse(l.responseText);"function"==typeof o&&o(e)}else"function"==typeof a&&a(l)},l.open("POST",e,!0),l.send(s)}function S(){return(new Date).getTime().toString()+Math.ceil(1e3*Math.random())}var k={draft:b,pasteUpload:{uninstall:function(){document.removeEventListener("paste",this.pasteListener),document.removeEventListener("dragleave",this.dragleaveListener),document.removeEventListener("drop",this.dropListener),document.removeEventListener("dragenter",this.dragenterListener),document.removeEventListener("dragover",this.dragoverListener),document.removeEventListener("paste",this.pasteListener)},insertHolder:function(){var e="temp_img_".concat(S());return this.editor.execCommand(E.INSERT_HTML,'\n                    <p id="'.concat(e,'" class="img-holder contenteditable="false""> \n                    <img style="border: none;margin: 0 auto;width:40px;" src="').concat("data:image/gif;base64,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",'" alt="">\n</p>\n                ')),e},insertError:function(e){var n="temp_img_".concat(S());return this.editor.execCommand(E.INSERT_HTML,'\n                    <p id="'.concat(n,'" class="img-holder"  contenteditable="false">\n                    上传失败：').concat(e,',<span id="').concat(n,'_cancel" class="img-btn-cancel">取消</span>\n</p>\n                ')),document.getElementById("".concat(n,"_cancel")).onclick=function(){document.getElementById(n).remove()},n},install:function(r){var i=this;i.editor=r,this.pasteListener=function(e){var n=e.clipboardData&&e.clipboardData.items,t=[];if(n&&n.length)for(var o=0;o<n.length;o++)if(-1!==n[o].type.indexOf("image")){t.push(n[o].getAsFile());break}0<t.length&&e.preventDefault(),t.forEach(function(e){var n=i.insertHolder();I(r.uploadUrl,e,{},function(e){document.getElementById(n).remove(),r.execCommand(E.INSERT_IMAGE,e.path)})})},this.dragleaveListener=function(e){e.preventDefault()},this.dropListener=function(e){e.preventDefault()},this.dragenterListener=function(e){e.preventDefault()},this.dragoverListener=function(e){e.preventDefault()},this.editorDropListener=function(e){e.preventDefault();var n=e.dataTransfer.files;if(0!==n.length){for(var t=[],o=0;o<n.length;o++){var a=n.item(o);-1!==a.type.indexOf("image")&&t.push(a)}t.forEach(function(e){var n=i.insertHolder();I(r.uploadUrl,e,{},function(e){document.getElementById(n).remove(),e.success?r.execCommand(E.INSERT_IMAGE,e.path):i.insertError(e.errMsg)},function(e){document.getElementById(n).remove(),i.insertError(e.responseText)})})}},r.uploadUrl&&(document.addEventListener("paste",this.pasteListener),document.addEventListener("dragleave",this.dragleaveListener),document.addEventListener("drop",this.dropListener),document.addEventListener("dragenter",this.dragenterListener),document.addEventListener("dragover",this.dragoverListener),r.$el.addEventListener("drop",this.editorDropListener))}}},w=k.draft,N=k.pasteUpload,T={template:'<div class="vue-html5-editor" :class="{\'full-screen\':fullScreen}" :style="{\'z-index\':zIndex}"> <div class="toolbar" :style="{\'z-index\':zIndex+1}" ref="toolbar"> <ul> <template v-for="module in modules"> <li :title="locale[module.i18n]" @click="activeModule(module)"> <span class="icon" :class="module.icon"></span> <template v-if="showModuleName === undefined ? defaultShowModuleName : showModuleName"> &nbsp;{{locale[module.i18n]}} </template> </li> </template> </ul> </div> <div class="dashboard" v-show="dashboard" ref="dashboard"> <keep-alive> <div v-show="dashboard" :is="dashboard"></div> </keep-alive> </div> <div class="content" ref="content" :style="contentStyle" contenteditable @click="toggleDashboard(dashboard)"> </div> <div class="plugins" :style="{\'z-index\':zIndex+1}" ref="plugin"> <plugin-draft v-if="showDraft"></plugin-draft> </div> </div>',components:{"draft-panel":{template:""}},props:{plainTextPaste:{type:Boolean,default:!1},content:{type:String,required:!0,default:""},height:{type:Number,default:300,validator:function(e){return 100<=e}},zIndex:{type:Number,default:1e3},autoHeight:{type:Boolean,default:!0},showModuleName:{type:Boolean,default:!1},toolbars:{type:Array,default:function(){return[]}},draft:{type:Boolean,default:!1},draftTime:{type:Number,default:2e3},draftStoreKey:{type:String,default:""},uploadUrl:{type:String,default:""}},data:function(){return{fullScreen:!1,dashboard:null,showDraft:!1}},watch:{content:function(e){this.setContent(e)},fullScreen:function(e){var n=this;if(e)return n.parentEl=n.$el.parentNode,n.nextEl=n.$el.nextSibling,void document.body.appendChild(n.$el);n.nextEl?n.parentEl.insertBefore(n.$el,n.nextEl):n.parentEl.appendChild(n.$el)}},computed:{contentStyle:function(){var e={};return this.fullScreen?e.height="".concat(window.innerHeight-this.$refs.toolbar.clientHeight-1,"px"):this.autoHeight?e["min-height"]="".concat(this.height,"px"):e.height="".concat(this.height,"px"),e}},methods:{stopDraft:function(){w.stop()},toggleFullScreen:function(){this.fullScreen=!this.fullScreen},enableFullScreen:function(){this.fullScreen=!0},exitFullScreen:function(){this.fullScreen=!1},focus:function(){this.$refs.content.focus()},toggleDashboard:function(e){this.dashboard=this.dashboard===e?null:e},execCommand:function(e){if(this.restoreSelection(),this.range){for(var n=new c(this.range,this),t=arguments.length,o=new Array(1<t?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];n.execCommand.apply(n,[e].concat(o))}this.toggleDashboard();var r=this.convertToContent(this.$refs.content.innerHTML);this.$emit("change",r)},getCurrentRange:function(){return this.range},saveCurrentRange:function(){var e=y();if(e.rangeCount)for(var n=this.$refs.content,t=0;t<e.rangeCount;t++){var o=e.getRangeAt(0),a=o.startContainer,r=o.endContainer;if(a=a.nodeType===Node.TEXT_NODE?a.parentNode:a,r=r.nodeType===Node.TEXT_NODE?r.parentNode:r,n.contains(a)&&n.contains(r)){this.range=o;break}}},getContent:function(){return this.convertToContent(this.$refs.content.innerHTML)},setContent:function(e){var n=this.$refs.content.innerHTML,t=this.convertToInnerHtml(e);t!==n&&(this.$refs.content.innerHTML=t)},restoreSelection:function(){var e=y();if(e.removeAllRanges(),this.range)e.addRange(this.range);else{var n=this.$refs.content,t=document.createElement("p"),o=document.createRange();n.appendChild(t),o.setStart(t,0),o.setEnd(t,0),e.removeAllRanges(),e.addRange(o),this.range=o}},activeModule:function(e){"function"!=typeof e.handler?e.hasDashboard&&this.toggleDashboard("dashboard-".concat(e.name)):e.handler(this)},convertToInnerHtml:function(e){return""===e?"<p><br/></p>":-1===e.indexOf("<")?"<p>".concat(e,"</p>"):e.replace(/<video .*?poster="(.*?)".*?src="(.*?)".*?>.*?<\/video>/gi,function(e,n,t){return'<img data-url="'.concat(t,'" class="video-poster" src="').concat(n,'">')})},convertToContent:function(n){var e=n.match(/<img .*?>/gi),t=[];if(e){e.forEach(function(e){if(0<=e.indexOf('class="video-poster"')){var n=e.replace(/<img .*?data-url="(.*?)".*?class="video-poster".*?src="(.*?)">/gi,function(e,n,t){return'<video poster="'.concat(t,'" src="').concat(n,'" controls></video>')});t.push({replaceStr:e,newStr:n})}});var o="";t.forEach(function(e){o=o?o.replace(e.replaceStr,e.newStr):n.replace(e.replaceStr,e.newStr)}),o&&(n=o)}return n}},created:function(){var n=this,t=[],o=this.toolbars;this.$refs.content;0<o.length&&(this.modules.forEach(function(e){var n=o.indexOf(e.name);-1<n&&(t[n]=e)}),this.modules=t),this.modules.forEach(function(e){"function"==typeof e.init&&e.init(n)})},mounted:function(){var o=this,a=this,r=this.$refs.content;r.innerHTML=this.convertToInnerHtml(this.content),r.addEventListener("mouseup",function(){a.saveCurrentRange()},!1),r.addEventListener("keyup",function(e){var n=e.which;a.$emit("change",o.convertToContent(r.innerHTML)),a.saveCurrentRange();var t=o.range.startContainer;o.range.endContainer,B(t);9===n&&(function(e){console.log(e)}("tab"),e.preventDefault()),8===n&&(""!==r.innerHTML&&"<br>"!==r.innerHTML||(r.innerHTML="<p><br></p>"))},!1),r.addEventListener("mouseout",function(e){e.target===r&&o.saveCurrentRange()},!1),r.addEventListener("paste",function(){if(a.plainTextPaste){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];(function(e){var n;e.preventDefault();var t,o="";if(window.clipboardData&&window.clipboardData.setData?(n=window.clipboardData).items?n.items:o=n.getData("text"):o=(n=(e.oriinalEvent||e).clipboardData).getData("text/plain"),document.body.createTextRange){if(document.selection)t=document.selection.createRange();else if(window.getSelection){var a=window.getSelection().getRangeAt(0),r=document.createElement("span");r.innerHTML="&#FEFF;",a.deleteContents(),a.insertNode(r),(t=document.body.createTextRange()).moveToElementText(r),r.parentNode.removeChild(r)}t.text=o,t.collapse(!1),t.select()}else document.execCommand("insertText",!1,o)}).apply(o,n)}}),w.install(a),N.install(a)},updated:function(){this.$refs.dashboard&&(this.$refs.dashboard.style.maxHeight="".concat(this.$refs.content.clientHeight,"px"))},beforeDestroy:function(){var n=this;this.modules.forEach(function(e){"function"==typeof e.destroyed&&e.destroyed(n)}),w.uninstall(this),N.uninstall(this)}},j={align:"对齐方式",image:"图片",images:"图片",indent:"缩进",list:"列表",link:"链接",unlink:"去除链接",table:"表格",font:"文字","full screen":"全屏",text:"排版",eraser:"格式清除",info:"关于",color:"颜色","please enter a url":"请输入地址","create link":"创建链接",bold:"加粗",italic:"倾斜",underline:"下划线","strike through":"删除线",subscript:"上标",superscript:"下标",heading:"标题","font name":"字体","font size":"文字大小","left justify":"左对齐","center justify":"居中","right justify":"右对齐","ordered list":"有序列表","unordered list":"无序列表","fore color":"前景色","background color":"背景色","row count":"行数","column count":"列数",save:"确定",upload:"上传",progress:"进度",unknown:"未知","please wait":"请稍等",error:"错误",abort:"中断",reset:"重置",hr:"分隔线",undo:"撤消","line height":"行高","exceed size limit":"超出大小限制"},M={align:"align",image:"image",indent:"indent",list:"list",link:"link",unlink:"unlink",table:"table",font:"font","full screen":"full screen",text:"text",eraser:"remove format",info:"info",color:"color","please enter a url":"please enter a url","create link":"create link",bold:"bold",italic:"italic",underline:"underline","strike through":"strike through",subscript:"subscript",superscript:"superscript",heading:"heading","font name":"font name","font size":"font size","left justify":"left justify","center justify":"center justify","right justify":"right justify","ordered list":"ordered list","unordered list":"unordered list","fore color":"fore color","background color":"background color","row count":"row count","column count":"column count",save:"save",upload:"upload",progress:"progress",unknown:"unknown","please wait":"please wait",error:"error",abort:"abort",reset:"reset",hr:"horizontal rule",undo:"undo","line height":"line height","exceed size limit":"exceed size limit"};function D(e,n){var o=0<arguments.length&&void 0!==e?e:{},a=1<arguments.length&&void 0!==n?n:{};return Object.keys(a).forEach(function(e){if("data"===e){var n=o[e],t=a[e];"function"==typeof t&&(o[e]="function"!=typeof n?t:function(){return D(n(),t())})}else o[e]=a[e]}),o}var z={name:"draft-name",template:'<div class="draft__dialog"> 草稿箱不为空，是否从草稿加载? <span class="draft_btn" @click="onOk">是</span><span class="draft_btn draft__no" @click="onCancel">否</span> </div>',methods:{onOk:function(){var e=this.$parent;e.setContent(localStorage.getItem(v)),this.run(e)},onCancel:function(){var e=this.$parent;this.run(e)},run:function(e){localStorage.setItem(v,""),b.install(e)}}};return function(){function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,c);var n,o,a=A(h),r={};Array.isArray(t.modules)&&t.modules.forEach(function(e){e.name&&a.push(e)}),Array.isArray(t.hiddenModules)&&(n=[],a.forEach(function(e){t.hiddenModules.includes(e.name)||n.push(e)}),a=n),Array.isArray(t.visibleModules)&&(o=[],a.forEach(function(e){t.visibleModules.includes(e.name)&&o.push(e)}),a=o),a.forEach(function(e){var n=t[e.name];e.config=D(e.config,n),e.dashboard&&(e.dashboard.module=e,r["dashboard-".concat(e.name)]=e.dashboard),t.icons&&t.icons[e.name]&&(e.icon=t.icons[e.name]),e.hasDashboard=!!e.dashboard,e.dashboard=null}),r["plugin-draft"]=z;var i={"zh-cn":j,"en-us":M},s=t.i18n||{};Object.keys(s).forEach(function(e){i[e]=i[e]?D(i[e],s[e]):s[e]});var e=t.language||"en-us",l=i[e],d=!!t.showModuleName;D(this,D(T,{data:function(){return{modules:a,locale:l,defaultShowModuleName:d}},components:r}))}return e(c,null,[{key:"install",value:function(e,n){var t=1<arguments.length&&void 0!==n?n:{};e.component(t.name||"vue-html5-editor",new c(t))}}]),c}()}();
